const a4_0x18a829=a4_0x4cf9;(function(_0x154277,_0x40a8d0){const _0x131fe5=a4_0x4cf9,_0x36a566=_0x154277();while(!![]){try{const _0x1fc78=parseInt(_0x131fe5(0x77))/0x1+-parseInt(_0x131fe5(0x9c))/0x2+-parseInt(_0x131fe5(0xa5))/0x3*(-parseInt(_0x131fe5(0x88))/0x4)+parseInt(_0x131fe5(0x7d))/0x5*(-parseInt(_0x131fe5(0x75))/0x6)+parseInt(_0x131fe5(0xa7))/0x7+-parseInt(_0x131fe5(0x7f))/0x8+parseInt(_0x131fe5(0x8a))/0x9;if(_0x1fc78===_0x40a8d0)break;else _0x36a566['push'](_0x36a566['shift']());}catch(_0x2579fc){_0x36a566['push'](_0x36a566['shift']());}}}(a4_0xb2ca,0x2ae90));const a4_0xb29761=(function(){let _0x4ddd7d=!![];return function(_0x533415,_0x170ef9){const _0x348d87=_0x4ddd7d?function(){const _0xc95bb=a4_0x4cf9;if(_0x170ef9){const _0x3e64f7=_0x170ef9[_0xc95bb(0xa0)](_0x533415,arguments);return _0x170ef9=null,_0x3e64f7;}}:function(){};return _0x4ddd7d=![],_0x348d87;};}()),a4_0xb70634=a4_0xb29761(this,function(){const _0x361d02=a4_0x4cf9;return a4_0xb70634[_0x361d02(0x6d)]()[_0x361d02(0x8e)]('(((.+)+)+)+$')[_0x361d02(0x6d)]()[_0x361d02(0x8b)](a4_0xb70634)[_0x361d02(0x8e)](_0x361d02(0x80));});a4_0xb70634();const GAME_AREA_WIDTH_PERCENTAGE_DESKTOP=0.5,GAME_AREA_HEIGHT_PERCENTAGE_DESKTOP=0.85,GAME_AREA_WIDTH_PERCENTAGE_MOBILE=0x1,GAME_AREA_HEIGHT_PERCENTAGE_MOBILE=0x1,canvas=document[a4_0x18a829(0x9b)](a4_0x18a829(0x6b)),ctx=canvas['getContext']('2d');let oldCanvasWidth=0x0,oldCanvasHeight=0x0,canvasDiagonal=0x0,isTouching=![],touchX=0x0,lastTapTime=0x0,mouseX=0x0,mouseY=0x0,isCursorShown=!![];function handleTouchStart(_0x29d079){const _0x52adec=a4_0x18a829;if(gameState===_0x52adec(0x73)){_0x29d079[_0x52adec(0x7b)]();const _0x5ddf4d=Date['now'](),_0x47a1b6=_0x5ddf4d-lastTapTime;_0x47a1b6<0x12c&&_0x47a1b6>0x0?(togglePause(),isTouching=![]):(isTouching=!![],isPaused=![],isInitialBall&&(isInitialBall=![]),handleTouchMove(_0x29d079)),lastTapTime=_0x5ddf4d;}}function a4_0x4cf9(_0x3c709d,_0x249d70){const _0x1d8269=a4_0xb2ca();return a4_0x4cf9=function(_0xb70634,_0xb29761){_0xb70634=_0xb70634-0x68;let _0xb2caa4=_0x1d8269[_0xb70634];return _0xb2caa4;},a4_0x4cf9(_0x3c709d,_0x249d70);}function handleTouchMove(_0x21dd5f){const _0x5ecab7=a4_0x18a829;if(!isTouching)return;const _0x55bc5e=_0x21dd5f['touches'][0x0];touchX=_0x55bc5e[_0x5ecab7(0x9e)];const _0x183149=canvas['getBoundingClientRect'](),_0xe09dc0=(touchX-_0x183149['left'])/(_0x183149[_0x5ecab7(0xa1)]/canvas[_0x5ecab7(0xa1)]);paddle['x']=clamp(_0xe09dc0-paddle['width']/0x2,0x0,canvas[_0x5ecab7(0xa1)]-paddle[_0x5ecab7(0xa1)]);}function handleTouchEnd(_0x1ab662){isTouching=![];}function vibrate(_0x352449){const _0x9ab17b=a4_0x18a829;navigator[_0x9ab17b(0x7a)]&&navigator[_0x9ab17b(0x7a)](_0x352449);}function keyDownHandler(_0x1e06f0){const _0x1f751d=a4_0x18a829;_0x1e06f0[_0x1f751d(0x96)]===_0x1f751d(0x81)&&(paddle['dx']=paddle[_0x1f751d(0xa8)],rightPressed=!![]),_0x1e06f0['key']===_0x1f751d(0x68)&&(paddle['dx']=-paddle['speed'],leftPressed=!![]),(_0x1e06f0['key']==='F'||_0x1e06f0[_0x1f751d(0x96)]==='f')&&(showFPS=!showFPS,saveProgress());}function keyUpHandler(_0x1a1e8d){const _0x2c85ac=a4_0x18a829;if(_0x1a1e8d[_0x2c85ac(0x96)]===_0x2c85ac(0x81)){if(paddle['dx']>0x0)paddle['dx']=0x0;rightPressed=![];}if(_0x1a1e8d[_0x2c85ac(0x96)]==='ArrowLeft'){if(paddle['dx']<0x0)paddle['dx']=0x0;leftPressed=![];}}function mouseMoveHandler(_0x56b811){const _0x3b5791=a4_0x18a829;let _0x526b12=canvas[_0x3b5791(0x97)]();mouseX=_0x56b811[_0x3b5791(0x9e)]-_0x526b12[_0x3b5791(0x78)],mouseY=_0x56b811['clientY']-_0x526b12[_0x3b5791(0xab)];if(gameState===_0x3b5791(0x73)&&!isPaused){let _0x19f5e5=canvas[_0x3b5791(0x97)]()['width'];mouseX>0x0&&mouseX<_0x19f5e5&&(paddle['x']=mouseX/_0x19f5e5*canvas[_0x3b5791(0xa1)]-paddle['width']/0x2);if(isInitialBall)positionInitialBall();}}function addKeyboardEventsListeners(){const _0x30f5d5=a4_0x18a829;document[_0x30f5d5(0x84)](_0x30f5d5(0x89),keyDownHandler),document[_0x30f5d5(0x84)](_0x30f5d5(0x91),keyUpHandler),document['addEventListener'](_0x30f5d5(0x89),function(_0xe19d40){const _0x29929b=_0x30f5d5;_0xe19d40[_0x29929b(0x83)]===_0x29929b(0x9a)&&(isInitialBall?isInitialBall=![]:togglePause());});}function addTouchEventsListeners(){const _0x656d77=a4_0x18a829;canvas[_0x656d77(0x84)](_0x656d77(0x85),handleTouchStart,![]),canvas['addEventListener'](_0x656d77(0x94),handleTouchMove,![]),canvas[_0x656d77(0x84)](_0x656d77(0x69),handleTouchEnd,![]),canvas[_0x656d77(0x84)](_0x656d77(0x72),handleTouchEnd,![]);}function addMouseEventsListeners(){const _0x189331=a4_0x18a829;document[_0x189331(0x84)](_0x189331(0xa4),onPointerLockChange,![]),document[_0x189331(0x84)]('mozpointerlockchange',onPointerLockChange,![]),document[_0x189331(0x84)](_0x189331(0x79),onPointerLockChange,![]),document[_0x189331(0x84)]('mousemove',onMouseMove),canvas[_0x189331(0x84)](_0x189331(0x9d),handleClick);}function handleClick(_0x527f86){const _0x4f3e1e=a4_0x18a829;let _0x4a082c=canvas[_0x4f3e1e(0x97)](),_0x49807e=_0x527f86[_0x4f3e1e(0x9e)]-_0x4a082c['left'],_0x20c4f9=_0x527f86['clientY']-_0x4a082c[_0x4f3e1e(0xab)];switch(gameState){case'startMenu':for(let _0x22f243 of difficultyButtons){if(_0x49807e>=_0x22f243['x']&&_0x49807e<=_0x22f243['x']+_0x22f243['width']&&_0x20c4f9>=_0x22f243['y']&&_0x20c4f9<=_0x22f243['y']+_0x22f243[_0x4f3e1e(0x92)]){selectedDifficulty=_0x22f243['difficulty'],saveProgress();return;}}for(let _0x33352b of menuButtons){if(_0x49807e>=_0x33352b['x']&&_0x49807e<=_0x33352b['x']+_0x33352b[_0x4f3e1e(0xa1)]&&_0x20c4f9>=_0x33352b['y']&&_0x20c4f9<=_0x33352b['y']+_0x33352b[_0x4f3e1e(0x92)]){_0x33352b[_0x4f3e1e(0x82)]();return;}}break;case'levelSelection':for(let _0x308180 of levelButtons){if(_0x49807e>=_0x308180['x']&&_0x49807e<=_0x308180['x']+_0x308180[_0x4f3e1e(0xa1)]&&_0x20c4f9>=_0x308180['y']&&_0x20c4f9<=_0x308180['y']+_0x308180['height']){_0x308180[_0x4f3e1e(0x82)]();return;}}break;case _0x4f3e1e(0x8c):if(_0x49807e>=creditsBackButton['x']&&_0x49807e<=creditsBackButton['x']+creditsBackButton[_0x4f3e1e(0xa1)]&&_0x20c4f9>=creditsBackButton['y']&&_0x20c4f9<=creditsBackButton['y']+creditsBackButton['height']){creditsBackButton['action']();return;}break;case _0x4f3e1e(0x73):isInitialBall?isInitialBall=![]:togglePause();break;case'gameOver':for(let _0xc8142 of gameOverButtons){if(_0x49807e>=_0xc8142['x']&&_0x49807e<=_0xc8142['x']+_0xc8142['width']&&_0x20c4f9>=_0xc8142['y']&&_0x20c4f9<=_0xc8142['y']+_0xc8142[_0x4f3e1e(0x92)]){_0xc8142['action']();return;}}break;case'gameCompleted':for(let _0xfc354a of gameCompletedButtons){if(_0x49807e>=_0xfc354a['x']&&_0x49807e<=_0xfc354a['x']+_0xfc354a[_0x4f3e1e(0xa1)]&&_0x20c4f9>=_0xfc354a['y']&&_0x20c4f9<=_0xfc354a['y']+_0xfc354a[_0x4f3e1e(0x92)]){_0xfc354a[_0x4f3e1e(0x82)]();return;}}break;case _0x4f3e1e(0xaa):for(let _0x26ac84 of setButtons){if(_0x49807e>=_0x26ac84['x']&&_0x49807e<=_0x26ac84['x']+_0x26ac84[_0x4f3e1e(0xa1)]&&_0x20c4f9>=_0x26ac84['y']&&_0x20c4f9<=_0x26ac84['y']+_0x26ac84[_0x4f3e1e(0x92)]){_0x26ac84[_0x4f3e1e(0x82)]();return;}}break;default:break;}}function onMouseMove(_0xb9c4f7){const _0x10e894=a4_0x18a829;if(gameState===_0x10e894(0x73)&&!isPaused){if(!isCursorShown){let _0x2a141d=_0xb9c4f7[_0x10e894(0x90)]||_0xb9c4f7[_0x10e894(0x9f)]||_0xb9c4f7[_0x10e894(0x98)]||0x0;movePaddleWithPointerLock(_0x2a141d);}else movePaddleWithMouse(_0xb9c4f7);}else movePaddleWithMouse(_0xb9c4f7);}function movePaddleWithPointerLock(_0x1ef8e2){const _0x1c7c38=a4_0x18a829;paddle['x']+=_0x1ef8e2;if(paddle['x']<0x0)paddle['x']=0x0;else paddle['x']+paddle['width']>canvas[_0x1c7c38(0xa1)]&&(paddle['x']=canvas[_0x1c7c38(0xa1)]-paddle['width']);}function movePaddleWithMouse(_0x2f11be){const _0x2ba2fd=a4_0x18a829;let _0x4e9864=canvas[_0x2ba2fd(0x97)]();mouseX=_0x2f11be[_0x2ba2fd(0x9e)]-_0x4e9864[_0x2ba2fd(0x78)],mouseY=_0x2f11be['clientY']-_0x4e9864[_0x2ba2fd(0xab)];if(gameState===_0x2ba2fd(0x73)&&!isPaused){let _0x1c21e6=canvas[_0x2ba2fd(0x97)]()['width'];mouseX>0x0&&mouseX<_0x1c21e6&&(paddle['x']=mouseX/_0x1c21e6*canvas[_0x2ba2fd(0xa1)]-paddle[_0x2ba2fd(0xa1)]/0x2);if(isInitialBall)positionInitialBall();}}function isMobileUserAgent(){const _0x5d3636=a4_0x18a829,_0x3934aa=navigator['userAgent']||navigator['vendor']||window[_0x5d3636(0x6e)],_0x24553a=[/android/i,/webos/i,/iphone/i,/ipad/i,/ipod/i,/blackberry/i,/windows phone/i];return _0x24553a[_0x5d3636(0x70)](_0x15571c=>_0x15571c['test'](_0x3934aa));}function resizeCanvas(_0x233a89=![]){const _0xc7a04d=a4_0x18a829;let _0x497e5c=window[_0xc7a04d(0xa6)],_0x12e01c=window[_0xc7a04d(0x8d)],_0x38b86d=_0x497e5c/_0x12e01c;if(_0x38b86d>0x3/0x2)_0x497e5c=_0x12e01c*(0x3/0x2);else _0x38b86d<0x2/0x3&&(_0x12e01c=_0x497e5c*(0x3/0x2));isMobileUserAgent()?(canvas['width']=_0x497e5c*GAME_AREA_WIDTH_PERCENTAGE_MOBILE,canvas['height']=_0x12e01c*GAME_AREA_HEIGHT_PERCENTAGE_MOBILE):(canvas[_0xc7a04d(0xa1)]=_0x497e5c*GAME_AREA_WIDTH_PERCENTAGE_DESKTOP,canvas[_0xc7a04d(0x92)]=_0x12e01c*GAME_AREA_HEIGHT_PERCENTAGE_DESKTOP),canvasDiagonal=Math['sqrt'](canvas[_0xc7a04d(0xa1)]**0x2+canvas[_0xc7a04d(0x92)]**0x2),(canvas['width']!=oldCanvasWidth||canvas[_0xc7a04d(0x92)]!=oldCanvasHeight||_0x233a89)&&(menuParticles&&(menuParticles=[],createMenuParticles()),introParticles&&(introParticles=[],createIntroParticles()),(gameState==='playing'||gameState===_0xc7a04d(0x8f)||gameState===_0xc7a04d(0x6a))&&resizeGameElements()),oldCanvasWidth=canvas['width'],oldCanvasHeight=canvas[_0xc7a04d(0x92)];}function a4_0xb2ca(){const _0x18016f=['252112qfnWqM','left','webkitpointerlockchange','vibrate','preventDefault','radius','301955kZyiEy','requestPointerLock','2153280tISMxR','(((.+)+)+)+$','ArrowRight','action','code','addEventListener','touchstart','mozRequestPointerLock','add','16YjXQCz','keydown','253233IcCYjs','constructor','credits','innerHeight','search','levelCompleted','movementX','keyup','height','webkitRequestPointerLock','touchmove','atan2','key','getBoundingClientRect','webkitMovementX','sin','Space','getElementById','487314KgQJPq','click','clientX','mozMovementX','apply','width','exitPointerLock','mozExitPointerLock','pointerlockchange','107823ngYjwA','innerWidth','2274685BXNaoA','speed','webkitExitPointerLock','setCompleted','top','hide-cursor','ArrowLeft','touchend','gameCompleted','gameCanvas','remove','toString','opera','webkitPointerLockElement','some','classList','touchcancel','playing','pointerLockElement','6BruZtg','mozPointerLockElement'];a4_0xb2ca=function(){return _0x18016f;};return a4_0xb2ca();}function resizeGameElements(){const _0x1162c9=a4_0x18a829;let _0x526d4d=oldCanvasWidth||canvas[_0x1162c9(0xa1)],_0x11fdd6=oldCanvasHeight||canvas['height'];paddleWidth=calcPaddleWidth(),paddleHeight=calcPaddleHeight(),ballRadius=calcBallSize(),brickPadding=canvasDiagonal*0.006,brickHeight=canvas[_0x1162c9(0x92)]*0.05,brickWidth=(canvas[_0x1162c9(0xa1)]-(0x1+0x1)*brickPadding)/0x1;brickColumnCount&&(brickWidth=(canvas[_0x1162c9(0xa1)]-(brickColumnCount+0x1)*brickPadding)/brickColumnCount);if(paddle){paddle[_0x1162c9(0xa1)]=paddleWidth,paddle['height']=paddleHeight,paddle['y']=calcPaddleY(paddleHeight),paddle[_0x1162c9(0xa8)]=calcPaddleSpeed();if(paddle['x']<0x0)paddle['x']=0x0;else paddle['x']+paddle['width']>canvas[_0x1162c9(0xa1)]&&(paddle['x']=canvas[_0x1162c9(0xa1)]-paddle['width']);}fireParticles&&(fireParticles=[]);for(let _0x27dcea of balls){_0x27dcea[_0x1162c9(0x7c)]=ballRadius,ballSpeed=calcBallSpeed(),_0x27dcea[_0x1162c9(0xa8)]=ballSpeed;let _0x4144df=Math[_0x1162c9(0x95)](_0x27dcea['dy'],_0x27dcea['dx']);_0x27dcea['dx']=ballSpeed*Math['cos'](_0x4144df),_0x27dcea['dy']=ballSpeed*Math[_0x1162c9(0x99)](_0x4144df),_0x27dcea['x']=_0x27dcea['x']/_0x526d4d*canvas['width'],_0x27dcea['y']=_0x27dcea['y']/_0x11fdd6*canvas['height'];}offsetTop=canvas[_0x1162c9(0x92)]*0.1,offsetLeft=(canvas[_0x1162c9(0xa1)]-0x1*(brickWidth+brickPadding))/0x2;if(bricks&&brickColumnCount&&brickRowCount){offsetLeft=(canvas['width']-brickColumnCount*(brickWidth+brickPadding))/0x2;for(let _0x3ffdda=0x0;_0x3ffdda<brickRowCount;_0x3ffdda++){for(let _0x549df1=0x0;_0x549df1<brickColumnCount;_0x549df1++){let _0x2d5729=bricks[_0x3ffdda][_0x549df1];_0x2d5729&&(_0x2d5729[_0x1162c9(0xa1)]=brickWidth,_0x2d5729['height']=brickHeight,_0x2d5729['x']=_0x549df1*(brickWidth+brickPadding)+offsetLeft,_0x2d5729['y']=_0x3ffdda*(brickHeight+brickPadding)+offsetTop);}}}if(powerUps)for(let _0x362cec of powerUps){_0x362cec[_0x1162c9(0xa1)]=canvas[_0x1162c9(0xa1)]*0.05,_0x362cec[_0x1162c9(0x92)]=canvas[_0x1162c9(0x92)]*0.02,_0x362cec['x']=_0x362cec['x']/_0x526d4d*canvas[_0x1162c9(0xa1)],_0x362cec['y']=_0x362cec['y']/_0x11fdd6*canvas['height'];}if(effects)for(let _0x3d02bb of effects){_0x3d02bb['x']=_0x3d02bb['x']/_0x526d4d*canvas[_0x1162c9(0xa1)],_0x3d02bb['y']=_0x3d02bb['y']/_0x11fdd6*canvas[_0x1162c9(0x92)];}if(particles)for(let _0xe1adcd of particles){_0xe1adcd['x']=_0xe1adcd['x']/_0x526d4d*canvas['width'],_0xe1adcd['y']=_0xe1adcd['y']/_0x11fdd6*canvas[_0x1162c9(0x92)],_0xe1adcd['dx']=_0xe1adcd['dx']/_0x526d4d*canvas[_0x1162c9(0xa1)],_0xe1adcd['dy']=_0xe1adcd['dy']/_0x11fdd6*canvas[_0x1162c9(0x92)];}oldCanvasWidth=canvas[_0x1162c9(0xa1)],oldCanvasHeight=canvas['height'];}function onWindowBlur(){const _0x6a8141=a4_0x18a829;gameState===_0x6a8141(0x73)&&!isPaused&&(isPaused=!![]);}function onWindowFocus(){updateCursorStyle();}function updateCursorStyle(){const _0x2e4e01=a4_0x18a829;if(gameState===_0x2e4e01(0x73)&&!isPaused&&isCursorShown)canvas[_0x2e4e01(0x71)][_0x2e4e01(0x87)](_0x2e4e01(0xac)),isCursorShown=![],requestPointerLock();else(gameState!='playing'||isPaused)&&!isCursorShown&&(canvas[_0x2e4e01(0x71)][_0x2e4e01(0x6c)](_0x2e4e01(0xac)),isCursorShown=!![],exitPointerLock());}function requestPointerLock(){const _0x5cc83f=a4_0x18a829;if(canvas[_0x5cc83f(0x7e)])canvas[_0x5cc83f(0x7e)]();else{if(canvas['mozRequestPointerLock'])canvas[_0x5cc83f(0x86)]();else canvas[_0x5cc83f(0x93)]&&canvas[_0x5cc83f(0x93)]();}}function exitPointerLock(){const _0x318f16=a4_0x18a829;if(document[_0x318f16(0xa2)])document['exitPointerLock']();else{if(document['mozExitPointerLock'])document[_0x318f16(0xa3)]();else document[_0x318f16(0xa9)]&&document[_0x318f16(0xa9)]();}}function onPointerLockChange(){const _0x2f52ba=a4_0x18a829,_0x3e5719=document[_0x2f52ba(0x74)]===canvas||document[_0x2f52ba(0x76)]===canvas||document[_0x2f52ba(0x6f)]===canvas;!isCursorShown&&!_0x3e5719&&(gameState===_0x2f52ba(0x73)&&!isPaused&&togglePause());}