const a4_0x552e8d=a4_0x52fc;(function(_0x25d340,_0x30c68b){const _0x423a53=a4_0x52fc,_0x45e3e9=_0x25d340();while(!![]){try{const _0x4f45e7=-parseInt(_0x423a53(0x12e))/0x1+-parseInt(_0x423a53(0x12d))/0x2+-parseInt(_0x423a53(0x129))/0x3+-parseInt(_0x423a53(0x12a))/0x4*(parseInt(_0x423a53(0x108))/0x5)+parseInt(_0x423a53(0x13b))/0x6+-parseInt(_0x423a53(0x11e))/0x7*(-parseInt(_0x423a53(0x120))/0x8)+parseInt(_0x423a53(0x121))/0x9;if(_0x4f45e7===_0x30c68b)break;else _0x45e3e9['push'](_0x45e3e9['shift']());}catch(_0x21f83b){_0x45e3e9['push'](_0x45e3e9['shift']());}}}(a4_0x4a4b,0xe8070));const a4_0x483170=(function(){let _0x160ef9=!![];return function(_0x161ab1,_0x3a5650){const _0x5a3ed4=_0x160ef9?function(){if(_0x3a5650){const _0x562908=_0x3a5650['apply'](_0x161ab1,arguments);return _0x3a5650=null,_0x562908;}}:function(){};return _0x160ef9=![],_0x5a3ed4;};}()),a4_0x55d78d=a4_0x483170(this,function(){const _0x3cda47=a4_0x52fc;return a4_0x55d78d[_0x3cda47(0x103)]()[_0x3cda47(0x12b)]('(((.+)+)+)+$')['toString']()['constructor'](a4_0x55d78d)[_0x3cda47(0x12b)](_0x3cda47(0x10e));});a4_0x55d78d();const GAME_AREA_WIDTH_PERCENTAGE_DESKTOP=0.5,GAME_AREA_HEIGHT_PERCENTAGE_DESKTOP=0.85,GAME_AREA_WIDTH_PERCENTAGE_MOBILE=0x1,GAME_AREA_HEIGHT_PERCENTAGE_MOBILE=0x1,canvas=document[a4_0x552e8d(0x100)](a4_0x552e8d(0x138)),ctx=canvas[a4_0x552e8d(0x124)]('2d');function a4_0x52fc(_0x1c6dd7,_0x197a26){const _0x23df96=a4_0x4a4b();return a4_0x52fc=function(_0x55d78d,_0x483170){_0x55d78d=_0x55d78d-0xff;let _0x4a4bc9=_0x23df96[_0x55d78d];return _0x4a4bc9;},a4_0x52fc(_0x1c6dd7,_0x197a26);}let oldCanvasWidth=0x0,oldCanvasHeight=0x0,canvasDiagonal=0x0,isTouching=![],touchX=0x0,lastTapTime=0x0,mouseX=0x0,mouseY=0x0,isCursorShown=!![];function handleTouchStart(_0x244fdc){const _0x367e80=a4_0x552e8d;if(gameState===_0x367e80(0x12f)){_0x244fdc['preventDefault']();const _0x2f6225=Date['now'](),_0x4eb24c=_0x2f6225-lastTapTime;_0x4eb24c<0x12c&&_0x4eb24c>0x0?(togglePause(),isTouching=![]):(isTouching=!![],isPaused=![],isInitialBall&&(isInitialBall=![]),handleTouchMove(_0x244fdc)),lastTapTime=_0x2f6225;}}function handleTouchMove(_0x3785be){const _0x5a5e14=a4_0x552e8d;if(!isTouching)return;const _0x30cadf=_0x3785be[_0x5a5e14(0x125)][0x0];touchX=_0x30cadf[_0x5a5e14(0x104)];const _0xfda8f4=canvas[_0x5a5e14(0x13e)](),_0x5b939f=(touchX-_0xfda8f4['left'])/(_0xfda8f4['width']/canvas[_0x5a5e14(0x110)]);paddle['x']=clamp(_0x5b939f-paddle['width']/0x2,0x0,canvas[_0x5a5e14(0x110)]-paddle['width']);}function handleTouchEnd(_0x426e00){isTouching=![];}function vibrate(_0x7af393){const _0x31fbac=a4_0x552e8d;navigator[_0x31fbac(0x130)]&&navigator[_0x31fbac(0x130)](_0x7af393);}function keyDownHandler(_0x4d295b){const _0x38b813=a4_0x552e8d;_0x4d295b[_0x38b813(0x117)]===_0x38b813(0x11f)&&(paddle['dx']=paddle[_0x38b813(0x132)],rightPressed=!![]),_0x4d295b[_0x38b813(0x117)]==='ArrowLeft'&&(paddle['dx']=-paddle[_0x38b813(0x132)],leftPressed=!![]),(_0x4d295b[_0x38b813(0x117)]==='F'||_0x4d295b[_0x38b813(0x117)]==='f')&&(showFPS=!showFPS,saveProgress());}function keyUpHandler(_0x461fdb){const _0x27c513=a4_0x552e8d;if(_0x461fdb['key']==='ArrowRight'){if(paddle['dx']>0x0)paddle['dx']=0x0;rightPressed=![];}if(_0x461fdb[_0x27c513(0x117)]===_0x27c513(0x127)){if(paddle['dx']<0x0)paddle['dx']=0x0;leftPressed=![];}}function a4_0x4a4b(){const _0x5a4734=['exitPointerLock','735390iXQGYq','1008254hzHIdn','playing','vibrate','height','speed','innerWidth','action','gameCompleted','startMenu','setCompleted','gameCanvas','left','atan2','7920240iiELup','touchcancel','add','getBoundingClientRect','mozpointerlockchange','getElementById','sin','keydown','toString','clientX','addEventListener','levelSelection','code','15zBGqPo','webkitMovementX','clientY','opera','keyup','requestPointerLock','(((.+)+)+)+$','classList','width','test','webkitpointerlockchange','top','sqrt','difficulty','mozExitPointerLock','key','pointerLockElement','movementX','webkitPointerLockElement','touchend','some','mozMovementX','84aLgqfz','ArrowRight','759936JmLnPY','3295242tRZSjc','hide-cursor','webkitRequestPointerLock','getContext','touches','mozRequestPointerLock','ArrowLeft','levelCompleted','1096254TvzXIC','179108zYEXDf','search'];a4_0x4a4b=function(){return _0x5a4734;};return a4_0x4a4b();}function mouseMoveHandler(_0x265bf3){const _0xe361a5=a4_0x552e8d;let _0x538003=canvas[_0xe361a5(0x13e)]();mouseX=_0x265bf3['clientX']-_0x538003[_0xe361a5(0x139)],mouseY=_0x265bf3['clientY']-_0x538003[_0xe361a5(0x113)];if(gameState===_0xe361a5(0x12f)&&!isPaused){let _0x386fc0=canvas[_0xe361a5(0x13e)]()['width'];mouseX>0x0&&mouseX<_0x386fc0&&(paddle['x']=mouseX/_0x386fc0*canvas[_0xe361a5(0x110)]-paddle[_0xe361a5(0x110)]/0x2);if(isInitialBall)positionInitialBall();}}function addKeyboardEventsListeners(){const _0xfb0bec=a4_0x552e8d;document['addEventListener'](_0xfb0bec(0x102),keyDownHandler),document[_0xfb0bec(0x105)](_0xfb0bec(0x10c),keyUpHandler),document['addEventListener'](_0xfb0bec(0x102),function(_0x322649){const _0x14d00f=_0xfb0bec;_0x322649[_0x14d00f(0x107)]==='Space'&&(isInitialBall?isInitialBall=![]:togglePause());});}function addTouchEventsListeners(){const _0xd24290=a4_0x552e8d;canvas[_0xd24290(0x105)]('touchstart',handleTouchStart,![]),canvas[_0xd24290(0x105)]('touchmove',handleTouchMove,![]),canvas['addEventListener'](_0xd24290(0x11b),handleTouchEnd,![]),canvas[_0xd24290(0x105)](_0xd24290(0x13c),handleTouchEnd,![]);}function addMouseEventsListeners(){const _0x93c0d1=a4_0x552e8d;document[_0x93c0d1(0x105)]('pointerlockchange',onPointerLockChange,![]),document[_0x93c0d1(0x105)](_0x93c0d1(0xff),onPointerLockChange,![]),document['addEventListener'](_0x93c0d1(0x112),onPointerLockChange,![]),document[_0x93c0d1(0x105)]('mousemove',onMouseMove),canvas[_0x93c0d1(0x105)]('click',handleClick);}function handleClick(_0x954ce2){const _0xd844e3=a4_0x552e8d;let _0x461676=canvas[_0xd844e3(0x13e)](),_0x246143=_0x954ce2[_0xd844e3(0x104)]-_0x461676[_0xd844e3(0x139)],_0x2354bf=_0x954ce2[_0xd844e3(0x10a)]-_0x461676[_0xd844e3(0x113)];switch(gameState){case _0xd844e3(0x136):for(let _0x1b76d1 of difficultyButtons){if(_0x246143>=_0x1b76d1['x']&&_0x246143<=_0x1b76d1['x']+_0x1b76d1[_0xd844e3(0x110)]&&_0x2354bf>=_0x1b76d1['y']&&_0x2354bf<=_0x1b76d1['y']+_0x1b76d1[_0xd844e3(0x131)]){selectedDifficulty=_0x1b76d1[_0xd844e3(0x115)],saveProgress();return;}}for(let _0x11a755 of menuButtons){if(_0x246143>=_0x11a755['x']&&_0x246143<=_0x11a755['x']+_0x11a755[_0xd844e3(0x110)]&&_0x2354bf>=_0x11a755['y']&&_0x2354bf<=_0x11a755['y']+_0x11a755[_0xd844e3(0x131)]){_0x11a755[_0xd844e3(0x134)]();return;}}break;case _0xd844e3(0x106):for(let _0x48f2ae of levelButtons){if(_0x246143>=_0x48f2ae['x']&&_0x246143<=_0x48f2ae['x']+_0x48f2ae[_0xd844e3(0x110)]&&_0x2354bf>=_0x48f2ae['y']&&_0x2354bf<=_0x48f2ae['y']+_0x48f2ae[_0xd844e3(0x131)]){_0x48f2ae[_0xd844e3(0x134)]();return;}}break;case'credits':if(_0x246143>=creditsBackButton['x']&&_0x246143<=creditsBackButton['x']+creditsBackButton[_0xd844e3(0x110)]&&_0x2354bf>=creditsBackButton['y']&&_0x2354bf<=creditsBackButton['y']+creditsBackButton[_0xd844e3(0x131)]){creditsBackButton[_0xd844e3(0x134)]();return;}break;case _0xd844e3(0x12f):isInitialBall?isInitialBall=![]:togglePause();break;case'gameOver':for(let _0x4786c0 of gameOverButtons){if(_0x246143>=_0x4786c0['x']&&_0x246143<=_0x4786c0['x']+_0x4786c0[_0xd844e3(0x110)]&&_0x2354bf>=_0x4786c0['y']&&_0x2354bf<=_0x4786c0['y']+_0x4786c0[_0xd844e3(0x131)]){_0x4786c0['action']();return;}}break;case _0xd844e3(0x135):for(let _0x704eaf of gameCompletedButtons){if(_0x246143>=_0x704eaf['x']&&_0x246143<=_0x704eaf['x']+_0x704eaf[_0xd844e3(0x110)]&&_0x2354bf>=_0x704eaf['y']&&_0x2354bf<=_0x704eaf['y']+_0x704eaf['height']){_0x704eaf['action']();return;}}break;case _0xd844e3(0x137):for(let _0x412d3c of setButtons){if(_0x246143>=_0x412d3c['x']&&_0x246143<=_0x412d3c['x']+_0x412d3c[_0xd844e3(0x110)]&&_0x2354bf>=_0x412d3c['y']&&_0x2354bf<=_0x412d3c['y']+_0x412d3c[_0xd844e3(0x131)]){_0x412d3c[_0xd844e3(0x134)]();return;}}break;default:break;}}function onMouseMove(_0x5a5268){const _0x4e7c76=a4_0x552e8d;if(gameState===_0x4e7c76(0x12f)&&!isPaused){if(!isCursorShown){let _0x73aab7=_0x5a5268[_0x4e7c76(0x119)]||_0x5a5268[_0x4e7c76(0x11d)]||_0x5a5268[_0x4e7c76(0x109)]||0x0;movePaddleWithPointerLock(_0x73aab7);}else movePaddleWithMouse(_0x5a5268);}else movePaddleWithMouse(_0x5a5268);}function movePaddleWithPointerLock(_0x4e8e7a){const _0x5d7437=a4_0x552e8d;paddle['x']+=_0x4e8e7a;if(paddle['x']<0x0)paddle['x']=0x0;else paddle['x']+paddle['width']>canvas[_0x5d7437(0x110)]&&(paddle['x']=canvas[_0x5d7437(0x110)]-paddle['width']);}function movePaddleWithMouse(_0x1df64e){const _0x1c68c9=a4_0x552e8d;let _0xac120e=canvas['getBoundingClientRect']();mouseX=_0x1df64e[_0x1c68c9(0x104)]-_0xac120e[_0x1c68c9(0x139)],mouseY=_0x1df64e[_0x1c68c9(0x10a)]-_0xac120e['top'];if(gameState===_0x1c68c9(0x12f)&&!isPaused){let _0x5700ca=canvas[_0x1c68c9(0x13e)]()[_0x1c68c9(0x110)];mouseX>0x0&&mouseX<_0x5700ca&&(paddle['x']=mouseX/_0x5700ca*canvas[_0x1c68c9(0x110)]-paddle[_0x1c68c9(0x110)]/0x2);if(isInitialBall)positionInitialBall();}}function isMobileUserAgent(){const _0x484a26=a4_0x552e8d,_0xbf0b37=navigator['userAgent']||navigator['vendor']||window[_0x484a26(0x10b)],_0x45244a=[/android/i,/webos/i,/iphone/i,/ipad/i,/ipod/i,/blackberry/i,/windows phone/i];return _0x45244a[_0x484a26(0x11c)](_0x1dde35=>_0x1dde35[_0x484a26(0x111)](_0xbf0b37));}function resizeCanvas(_0x208bbb=![]){const _0x24d3e1=a4_0x552e8d;let _0x230788=window[_0x24d3e1(0x133)],_0x51aedc=window['innerHeight'],_0x5d5909=_0x230788/_0x51aedc;if(_0x5d5909>0x3/0x2)_0x230788=_0x51aedc*(0x3/0x2);else _0x5d5909<0x2/0x3&&(_0x51aedc=_0x230788*(0x3/0x2));isMobileUserAgent()?(canvas[_0x24d3e1(0x110)]=_0x230788*GAME_AREA_WIDTH_PERCENTAGE_MOBILE,canvas[_0x24d3e1(0x131)]=_0x51aedc*GAME_AREA_HEIGHT_PERCENTAGE_MOBILE):(canvas[_0x24d3e1(0x110)]=_0x230788*GAME_AREA_WIDTH_PERCENTAGE_DESKTOP,canvas['height']=_0x51aedc*GAME_AREA_HEIGHT_PERCENTAGE_DESKTOP),canvasDiagonal=Math[_0x24d3e1(0x114)](canvas[_0x24d3e1(0x110)]**0x2+canvas[_0x24d3e1(0x131)]**0x2),(canvas[_0x24d3e1(0x110)]!=oldCanvasWidth||canvas[_0x24d3e1(0x131)]!=oldCanvasHeight||_0x208bbb)&&(menuParticles&&(menuParticles=[],createMenuParticles()),introParticles&&(introParticles=[],createIntroParticles()),(gameState==='playing'||gameState===_0x24d3e1(0x128)||gameState===_0x24d3e1(0x135))&&resizeGameElements()),oldCanvasWidth=canvas[_0x24d3e1(0x110)],oldCanvasHeight=canvas[_0x24d3e1(0x131)];}function resizeGameElements(){const _0x12cc4f=a4_0x552e8d;let _0x5a83f7=oldCanvasWidth||canvas[_0x12cc4f(0x110)],_0x189484=oldCanvasHeight||canvas[_0x12cc4f(0x131)];paddleWidth=calcPaddleWidth(),paddleHeight=calcPaddleHeight(),ballRadius=calcBallSize(),brickPadding=canvasDiagonal*0.006,brickHeight=canvas[_0x12cc4f(0x131)]*0.05,brickWidth=(canvas[_0x12cc4f(0x110)]-(0x1+0x1)*brickPadding)/0x1;brickColumnCount&&(brickWidth=(canvas[_0x12cc4f(0x110)]-(brickColumnCount+0x1)*brickPadding)/brickColumnCount);if(paddle){paddle['width']=paddleWidth,paddle[_0x12cc4f(0x131)]=paddleHeight,paddle['y']=calcPaddleY(paddleHeight),paddle[_0x12cc4f(0x132)]=calcPaddleSpeed();if(paddle['x']<0x0)paddle['x']=0x0;else paddle['x']+paddle[_0x12cc4f(0x110)]>canvas['width']&&(paddle['x']=canvas[_0x12cc4f(0x110)]-paddle[_0x12cc4f(0x110)]);}fireParticles&&(fireParticles=[]);for(let _0x5e00b3 of balls){_0x5e00b3['radius']=ballRadius,ballSpeed=calcBallSpeed(),_0x5e00b3[_0x12cc4f(0x132)]=ballSpeed;let _0x316b3b=Math[_0x12cc4f(0x13a)](_0x5e00b3['dy'],_0x5e00b3['dx']);_0x5e00b3['dx']=ballSpeed*Math['cos'](_0x316b3b),_0x5e00b3['dy']=ballSpeed*Math[_0x12cc4f(0x101)](_0x316b3b),_0x5e00b3['x']=_0x5e00b3['x']/_0x5a83f7*canvas[_0x12cc4f(0x110)],_0x5e00b3['y']=_0x5e00b3['y']/_0x189484*canvas[_0x12cc4f(0x131)];}offsetTop=canvas[_0x12cc4f(0x131)]*0.1,offsetLeft=(canvas[_0x12cc4f(0x110)]-0x1*(brickWidth+brickPadding))/0x2;if(bricks&&brickColumnCount&&brickRowCount){offsetLeft=(canvas[_0x12cc4f(0x110)]-brickColumnCount*(brickWidth+brickPadding))/0x2;for(let _0x92a4b5=0x0;_0x92a4b5<brickRowCount;_0x92a4b5++){for(let _0x122937=0x0;_0x122937<brickColumnCount;_0x122937++){let _0x2a3aff=bricks[_0x92a4b5][_0x122937];_0x2a3aff&&(_0x2a3aff['width']=brickWidth,_0x2a3aff[_0x12cc4f(0x131)]=brickHeight,_0x2a3aff['x']=_0x122937*(brickWidth+brickPadding)+offsetLeft,_0x2a3aff['y']=_0x92a4b5*(brickHeight+brickPadding)+offsetTop);}}}if(powerUps)for(let _0xe24d51 of powerUps){_0xe24d51[_0x12cc4f(0x110)]=canvas[_0x12cc4f(0x110)]*0.05,_0xe24d51[_0x12cc4f(0x131)]=canvas[_0x12cc4f(0x131)]*0.02,_0xe24d51['x']=_0xe24d51['x']/_0x5a83f7*canvas['width'],_0xe24d51['y']=_0xe24d51['y']/_0x189484*canvas[_0x12cc4f(0x131)];}if(effects)for(let _0xdfa484 of effects){_0xdfa484['x']=_0xdfa484['x']/_0x5a83f7*canvas[_0x12cc4f(0x110)],_0xdfa484['y']=_0xdfa484['y']/_0x189484*canvas['height'];}if(particles)for(let _0x30d538 of particles){_0x30d538['x']=_0x30d538['x']/_0x5a83f7*canvas[_0x12cc4f(0x110)],_0x30d538['y']=_0x30d538['y']/_0x189484*canvas['height'],_0x30d538['dx']=_0x30d538['dx']/_0x5a83f7*canvas[_0x12cc4f(0x110)],_0x30d538['dy']=_0x30d538['dy']/_0x189484*canvas[_0x12cc4f(0x131)];}oldCanvasWidth=canvas['width'],oldCanvasHeight=canvas[_0x12cc4f(0x131)];}function onWindowBlur(){const _0x2418db=a4_0x552e8d;gameState===_0x2418db(0x12f)&&!isPaused&&(isPaused=!![]);}function onWindowFocus(){updateCursorStyle();}function updateCursorStyle(){const _0x477a6d=a4_0x552e8d;if(gameState===_0x477a6d(0x12f)&&!isPaused&&isCursorShown)canvas[_0x477a6d(0x10f)][_0x477a6d(0x13d)](_0x477a6d(0x122)),isCursorShown=![],requestPointerLock();else(gameState!=_0x477a6d(0x12f)||isPaused)&&!isCursorShown&&(canvas[_0x477a6d(0x10f)]['remove'](_0x477a6d(0x122)),isCursorShown=!![],exitPointerLock());}function requestPointerLock(){const _0x251d85=a4_0x552e8d;if(canvas[_0x251d85(0x10d)])canvas[_0x251d85(0x10d)]();else{if(canvas[_0x251d85(0x126)])canvas['mozRequestPointerLock']();else canvas['webkitRequestPointerLock']&&canvas[_0x251d85(0x123)]();}}function exitPointerLock(){const _0x2c9850=a4_0x552e8d;if(document['exitPointerLock'])document[_0x2c9850(0x12c)]();else{if(document[_0x2c9850(0x116)])document[_0x2c9850(0x116)]();else document['webkitExitPointerLock']&&document['webkitExitPointerLock']();}}function onPointerLockChange(){const _0x3ba757=a4_0x552e8d,_0x481c00=document[_0x3ba757(0x118)]===canvas||document['mozPointerLockElement']===canvas||document[_0x3ba757(0x11a)]===canvas;!isCursorShown&&!_0x481c00&&(gameState===_0x3ba757(0x12f)&&!isPaused&&togglePause());}